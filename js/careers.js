const careersTranslations = {
    vi: {
        'careers.hero.title': 'Gia nhập SuperNova',
        'careers.hero.subtitle': 'Cùng chúng tôi xây dựng tương lai công nghệ',
        'careers.hero.cta': 'Xem vị trí đang tuyển',
        'careers.why.title': 'Tại sao chọn SuperNova?',
        'careers.why.growth.title': 'Phát triển không giới hạn',
        'careers.why.growth.desc': 'Cơ hội học hỏi và phát triển với các dự án công nghệ tiên tiến nhất',
        'careers.why.team.title': 'Đội ngũ tài năng',
        'careers.why.team.desc': 'Làm việc cùng những chuyên gia hàng đầu trong ngành',
        'careers.why.global.title': 'Tầm nhìn toàn cầu',
        'careers.why.global.desc': 'Sản phẩm của bạn sẽ được sử dụng bởi hàng triệu người trên thế giới',
        'careers.benefits.title': 'Phúc lợi & Quyền lợi',
        'careers.benefits.subtitle': 'Chúng tôi quan tâm đến sự phát triển toàn diện của nhân viên',
        'careers.benefits.salary.title': 'Lương thưởng hấp dẫn',
        'careers.benefits.salary.desc': 'Mức lương cạnh tranh và thưởng hiệu suất hàng quý',
        'careers.benefits.insurance.title': 'Bảo hiểm toàn diện',
        'careers.benefits.insurance.desc': 'BHXH, BHYT, BHTN và bảo hiểm sức khỏe cao cấp',
        'careers.benefits.training.title': 'Đào tạo liên tục',
        'careers.benefits.training.desc': 'Các khóa học nâng cao kỹ năng và chứng chỉ quốc tế',
        'careers.benefits.balance.title': 'Cân bằng cuộc sống',
        'careers.benefits.balance.desc': 'Giờ làm việc linh hoạt và chế độ làm việc từ xa',
        'careers.benefits.vacation.title': 'Nghỉ phép hàng năm',
        'careers.benefits.vacation.desc': '15 ngày nghỉ phép có lương và các kỳ nghỉ lễ',
        'careers.benefits.equipment.title': 'Thiết bị hiện đại',
        'careers.benefits.equipment.desc': 'MacBook Pro và các thiết bị công nghệ mới nhất',
        'careers.stats.employees': 'Nhân viên',
        'careers.stats.satisfaction': 'Hài lòng',
        'careers.openings.title': 'Vị trí đang tuyển dụng',
        'careers.filter.all': 'Tất cả',
        'careers.filter.engineering': 'Kỹ thuật',
        'careers.filter.design': 'Thiết kế',
        'careers.filter.marketing': 'Marketing',
        'careers.filter.business': 'Kinh doanh',
        'careers.jobs.fulltime': 'Full-time',
        'careers.jobs.experience': '3-5 năm',
        'careers.jobs.experience2': '2-4 năm',
        'careers.jobs.location.hanoi': 'Hà Nội',
        'careers.jobs.apply': 'Ứng tuyển',
        'careers.jobs.senior_android.title': 'Senior Android Developer',
        'careers.jobs.senior_android.desc': 'Phát triển và tối ưu hóa các ứng dụng Android với hàng triệu người dùng. Yêu cầu kinh nghiệm với Kotlin, Android SDK...',
        'careers.jobs.ios_dev.title': 'iOS Developer',
        'careers.jobs.ios_dev.desc': 'Xây dựng các ứng dụng iOS chất lượng cao. Thành thạo Swift, UIKit, và có kinh nghiệm với SwiftUI...',
        'careers.jobs.ui_designer.title': 'UI/UX Designer',
        'careers.jobs.ui_designer.desc': 'Thiết kế giao diện người dùng đẹp mắt và trải nghiệm người dùng tuyệt vời cho các ứng dụng di động...',
        'careers.jobs.growth_manager.title': 'Growth Marketing Manager',
        'careers.jobs.growth_manager.desc': 'Phát triển và thực hiện chiến lược tăng trưởng cho các ứng dụng. Kinh nghiệm với ASO, user acquisition...',
        'careers.jobs.backend_dev.title': 'Backend Developer',
        'careers.jobs.backend_dev.desc': 'Xây dựng và mở rộng hệ thống backend cho hàng triệu người dùng. Kinh nghiệm với Node.js, MongoDB...',
        'careers.jobs.bd_manager.title': 'Business Development Manager',
        'careers.jobs.bd_manager.desc': 'Phát triển quan hệ đối tác chiến lược và mở rộng thị trường quốc tế. Yêu cầu tiếng Anh fluent...',
        'careers.no_jobs.title': 'Không có vị trí phù hợp',
        'careers.no_jobs.desc': 'Hãy thử lọc với danh mục khác',
        'careers.process.title': 'Quy trình tuyển dụng',
        'careers.process.step1.title': 'Ứng tuyển',
        'careers.process.step1.desc': 'Gửi CV và portfolio của bạn',
        'careers.process.step2.title': 'Sàng lọc CV',
        'careers.process.step2.desc': 'Đánh giá hồ sơ trong 3-5 ngày',
        'careers.process.step3.title': 'Phỏng vấn kỹ thuật',
        'careers.process.step3.desc': 'Đánh giá kỹ năng chuyên môn',
        'careers.process.step4.title': 'Phỏng vấn văn hóa',
        'careers.process.step4.desc': 'Tìm hiểu về giá trị và tầm nhìn',
        'careers.process.step5.title': 'Quyết định',
        'careers.process.step5.desc': 'Thông báo kết quả và offer',
        'careers.cta.title': 'Sẵn sàng tạo nên điều phi thường?',
        'careers.cta.subtitle': 'Gửi CV của bạn ngay hôm nay để gia nhập đội ngũ SuperNova',
        'careers.cta.email': 'Gửi CV đến hr@supernovajsc.com'
    },
    en: {
        'careers.hero.title': 'Join SuperNova',
        'careers.hero.subtitle': 'Build the future of technology with us',
        'careers.hero.cta': 'View open positions',
        'careers.why.title': 'Why Choose SuperNova?',
        'careers.why.growth.title': 'Unlimited Growth',
        'careers.why.growth.desc': 'Opportunities to learn and grow with cutting-edge technology projects',
        'careers.why.team.title': 'Talented Team',
        'careers.why.team.desc': 'Work alongside industry-leading experts',
        'careers.why.global.title': 'Global Vision',
        'careers.why.global.desc': 'Your products will be used by millions worldwide',
        'careers.benefits.title': 'Benefits & Perks',
        'careers.benefits.subtitle': 'We care about the holistic development of our employees',
        'careers.benefits.salary.title': 'Competitive Compensation',
        'careers.benefits.salary.desc': 'Competitive salary and quarterly performance bonuses',
        'careers.benefits.insurance.title': 'Comprehensive Insurance',
        'careers.benefits.insurance.desc': 'Social, health, unemployment insurance and premium healthcare',
        'careers.benefits.training.title': 'Continuous Training',
        'careers.benefits.training.desc': 'Skill development courses and international certifications',
        'careers.benefits.balance.title': 'Work-Life Balance',
        'careers.benefits.balance.desc': 'Flexible working hours and remote work options',
        'careers.benefits.vacation.title': 'Annual Leave',
        'careers.benefits.vacation.desc': '15 days paid leave and holiday breaks',
        'careers.benefits.equipment.title': 'Modern Equipment',
        'careers.benefits.equipment.desc': 'MacBook Pro and latest technology devices',
        'careers.stats.employees': 'Employees',
        'careers.stats.satisfaction': 'Satisfaction',
        'careers.openings.title': 'Open Positions',
        'careers.filter.all': 'All',
        'careers.filter.engineering': 'Engineering',
        'careers.filter.design': 'Design',
        'careers.filter.marketing': 'Marketing',
        'careers.filter.business': 'Business',
        'careers.jobs.fulltime': 'Full-time',
        'careers.jobs.experience': '3-5 years',
        'careers.jobs.experience2': '2-4 years',
        'careers.jobs.location.hanoi': 'Hanoi',
        'careers.jobs.apply': 'Apply Now',
        'careers.jobs.senior_android.title': 'Senior Android Developer',
        'careers.jobs.senior_android.desc': 'Develop and optimize Android apps for millions of users. Experience with Kotlin, Android SDK required...',
        'careers.jobs.ios_dev.title': 'iOS Developer',
        'careers.jobs.ios_dev.desc': 'Build high-quality iOS applications. Proficient in Swift, UIKit, with SwiftUI experience...',
        'careers.jobs.ui_designer.title': 'UI/UX Designer',
        'careers.jobs.ui_designer.desc': 'Design beautiful user interfaces and amazing user experiences for mobile applications...',
        'careers.jobs.growth_manager.title': 'Growth Marketing Manager',
        'careers.jobs.growth_manager.desc': 'Develop and execute growth strategies for apps. Experience with ASO, user acquisition...',
        'careers.jobs.backend_dev.title': 'Backend Developer',
        'careers.jobs.backend_dev.desc': 'Build and scale backend systems for millions of users. Experience with Node.js, MongoDB...',
        'careers.jobs.bd_manager.title': 'Business Development Manager',
        'careers.jobs.bd_manager.desc': 'Develop strategic partnerships and expand international markets. Fluent English required...',
        'careers.no_jobs.title': 'No matching positions',
        'careers.no_jobs.desc': 'Try filtering with different categories',
        'careers.process.title': 'Recruitment Process',
        'careers.process.step1.title': 'Apply',
        'careers.process.step1.desc': 'Send your CV and portfolio',
        'careers.process.step2.title': 'CV Screening',
        'careers.process.step2.desc': 'Review applications in 3-5 days',
        'careers.process.step3.title': 'Technical Interview',
        'careers.process.step3.desc': 'Assess professional skills',
        'careers.process.step4.title': 'Culture Interview',
        'careers.process.step4.desc': 'Learn about values and vision',
        'careers.process.step5.title': 'Decision',
        'careers.process.step5.desc': 'Result notification and offer',
        'careers.cta.title': 'Ready to Create Something Extraordinary?',
        'careers.cta.subtitle': 'Send your CV today to join the SuperNova team',
        'careers.cta.email': 'Send CV to hr@supernovajsc.com'
    }
};

if (typeof translations !== 'undefined') {
    Object.keys(careersTranslations).forEach(lang => {
        Object.assign(translations[lang], careersTranslations[lang]);
    });
}

const careersModule = {
    elements: {
        filterBtns: null,
        jobCards: null,
        noJobs: null
    },

    init() {
        this.cacheElements();
        this.bindEvents();
        this.initAnimations();
    },

    cacheElements() {
        this.elements.filterBtns = document.querySelectorAll('.filter-btn');
        this.elements.jobCards = document.querySelectorAll('.job-card');
        this.elements.noJobs = document.querySelector('.no-jobs');
    },

    bindEvents() {
        this.elements.filterBtns.forEach(btn => {
            btn.addEventListener('click', () => this.handleFilter(btn));
        });

        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', (e) => {
                e.preventDefault();
                const target = document.querySelector(anchor.getAttribute('href'));
                if (target) {
                    const navHeight = document.querySelector('.navbar')?.offsetHeight || 0;
                    const position = target.getBoundingClientRect().top + window.pageYOffset - navHeight;
                    window.scrollTo({ top: position, behavior: 'smooth' });
                }
            });
        });
    },

    handleFilter(activeBtn) {
        this.elements.filterBtns.forEach(btn => btn.classList.remove('active'));
        activeBtn.classList.add('active');

        const category = activeBtn.dataset.filter;
        let hasVisibleJobs = false;

        this.elements.jobCards.forEach((card, index) => {
            const isMatch = category === 'all' || card.dataset.category === category;
            card.style.display = isMatch ? 'flex' : 'none';
            
            if (isMatch) {
                hasVisibleJobs = true;
                card.style.animationDelay = `${index * 0.1}s`;
                card.classList.remove('animate');
                void card.offsetWidth;
                card.classList.add('animate');
            }
        });

        this.elements.noJobs.style.display = hasVisibleJobs ? 'none' : 'block';
    },

    initAnimations() {
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    observer.unobserve(entry.target);
                }
            });
        }, observerOptions);

        document.querySelectorAll('.process-step').forEach((step, index) => {
            step.style.animationDelay = `${index * 0.2}s`;
            observer.observe(step);
        });
    }
};

document.addEventListener('DOMContentLoaded', () => {
    careersModule.init();
});